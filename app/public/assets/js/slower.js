YUI.add("slower",function(Y){"use strict";function SlowBase(){SlowBase.superclass.constructor.apply(this,arguments)}var LOADING_CLASS="loading";Y.Slower=Y.extend(SlowBase,Y.Base,{initializer:function(){var self=this;self.update(),Y.one("a.marklet").on("click",function(e){e.halt(),alert(e.target.get("title"))}),Y.all("form input, form select").on("change",function(e){e.target.ancestor("form").removeClass(LOADING_CLASS),self.update()}),Y.all("form input, form select").on("focus",function(e){e.target.ancestor("form").removeClass(LOADING_CLASS)}),Y.one("#rmr-slow-result").on("click",function(e){e.target._node.select()}),document.body.addEventListener&&(document.body.addEventListener("keypress",function(e){var code=e.keyCode,opt="#rmr-slow-opt-";if(code>=48&&57>=code)Y.one("#rmr-slow-sleep").set("value",48==code?0:code-48),self.update();else if(13==code)Y.one("#rmr-slow-result")._node.click();else{switch(code){case 112:opt+="image-png";break;case 99:opt+="text-css";break;case 103:opt+="image-gif";break;case 104:opt+="text-html";break;case 105:opt+="image-x-icon";break;case 106:opt+="application-javascript";break;case 109:opt+="video-mp4";break;case 115:opt+="image-svg-xml";break;case 116:opt+="text-plain";break;case 119:opt+="audio-wav";break;case 120:opt+="text-xml";break;case 121:opt+="text-yaml";break;default:opt=null}opt&&(Y.one(opt).set("selected",!0),self.update())}}),Y.one("form .submit input").on("click",function(e){var f=e.target.ancestor("form");f.addClass(LOADING_CLASS),self.update()}))},update:function(){var query="",inputs=Y.all("#rmr-slow-sleep, #rmr-slow-mime, #rmr-slow-status, #rmr-slow-url");inputs.each(function(i){i.get("value")&&(query+=(query?"&":"?")+i.get("name")+"="+encodeURIComponent(i.get("value")))}),Y.one("#rmr-slow-result").set("value",Y.one("form").get("action")+query)}},{NAME:"slower",ATTRS:{}})},"",{requires:["base","event","node"]});